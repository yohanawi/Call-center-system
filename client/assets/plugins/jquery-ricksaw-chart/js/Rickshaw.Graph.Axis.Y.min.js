Rickshaw.namespace("Rickshaw.Graph.Axis.Y"),Rickshaw.Graph.Axis.Y=Rickshaw.Class.create({initialize:function(l){this.graph=l.graph,this.orientation=l.orientation||"right",this.pixelsPerTick=l.pixelsPerTick||75,l.ticks&&(this.staticTicks=l.ticks),l.tickValues&&(this.tickValues=l.tickValues),this.tickSize=l.tickSize||4,this.ticksTreatment=l.ticksTreatment||"plain",this.tickFormat=l.tickFormat||function(l){return l},this.berthRate=.1,l.element?(this.element=l.element,this.vis=d3.select(l.element).append("svg:svg").attr("class","rickshaw_graph y_axis"),this.element=this.vis[0][0],this.element.style.position="relative",this.setSize({width:l.width,height:l.height})):this.vis=this.graph.vis;var e=this;this.graph.onUpdate(function(){e.render()})},setSize:function(l){if(l=l||{},this.element){if("undefined"!=typeof window){var e=window.getComputedStyle(this.element.parentNode,null),t=parseInt(e.getPropertyValue("width"),10);if(!l.auto)var n=parseInt(e.getPropertyValue("height"),10)}this.width=l.width||t||this.graph.width*this.berthRate,this.height=l.height||n||this.graph.height,this.vis.attr("width",this.width).attr("height",this.height*(1+this.berthRate));var i=this.height*this.berthRate;"left"==this.orientation&&(this.element.style.top=-1*i+"px")}},render:function(){this.graph.height!==this._renderHeight&&this.setSize({auto:!0}),this.ticks=this.staticTicks||Math.floor(this.graph.height/this.pixelsPerTick);var l=this._drawAxis(this.graph.y);this._drawGrid(l),this._renderHeight=this.graph.height},_drawAxis:function(l){var e=d3.svg.axis().scale(l).orient(this.orientation);if(e.tickFormat(this.tickFormat),this.tickValues&&e.tickValues(this.tickValues),"left"==this.orientation)var t=this.height*this.berthRate,n="translate("+this.width+", "+t+")";return this.element&&this.vis.selectAll("*").remove(),this.vis.append("svg:g").attr("class",["y_ticks",this.ticksTreatment].join(" ")).attr("transform",n).call(e.ticks(this.ticks).tickSubdivide(0).tickSize(this.tickSize)),e},_drawGrid:function(l){var e=("right"==this.orientation?1:-1)*this.graph.width;this.graph.vis.append("svg:g").attr("class","y_grid").call(l.ticks(this.ticks).tickSubdivide(0).tickSize(e))}});