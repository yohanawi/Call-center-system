Rickshaw.namespace("Rickshaw.Graph.Behavior.Series.Highlight"),Rickshaw.Graph.Behavior.Series.Highlight=function(l){this.graph=l.graph,this.legend=l.legend;var e=this,t={},n=null,i=l.disabledColor||function(l){return d3.interpolateRgb(l,d3.rgb("#d8d8d8"))(.8).toString()};this.addHighlightEvents=function(l){l.element.addEventListener("mouseover",function(){n||(n=l,e.legend.lines.forEach(function(n,o){if(l!==n)t[n.series.name]=t[n.series.name]||n.series.color,n.series.color=i(n.series.color);else if(o>0&&e.graph.renderer.unstack&&(n.series.renderer?n.series.renderer.unstack:!0)){var a=e.graph.series.length-o-1;n.originalIndex=a;var s=e.graph.series.splice(a,1)[0];e.graph.series.push(s)}}),e.graph.update())},!1),l.element.addEventListener("mouseout",function(){n&&(n=null,e.legend.lines.forEach(function(n){if(l===n&&n.hasOwnProperty("originalIndex")){var i=e.graph.series.pop();e.graph.series.splice(n.originalIndex,0,i),delete n.originalIndex}t[n.series.name]&&(n.series.color=t[n.series.name])}),e.graph.update())},!1)},this.legend&&this.legend.lines.forEach(function(l){e.addHighlightEvents(l)})};