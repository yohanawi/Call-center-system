Rickshaw.namespace("Rickshaw.Fixtures.Time.Local"),Rickshaw.Fixtures.Time.Local=function(){60*(new Date).getTimezoneOffset();var l=this;this.months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],this.units=[{name:"decade",seconds:315576e3,formatter:function(l){return 10*parseInt(l.getFullYear()/10,10)}},{name:"year",seconds:31557600,formatter:function(l){return l.getFullYear()}},{name:"month",seconds:2635200,formatter:function(e){return l.months[e.getMonth()]}},{name:"week",seconds:604800,formatter:function(e){return l.formatDate(e)}},{name:"day",seconds:86400,formatter:function(l){return l.getDate()}},{name:"6 hour",seconds:21600,formatter:function(e){return l.formatTime(e)}},{name:"hour",seconds:3600,formatter:function(e){return l.formatTime(e)}},{name:"15 minute",seconds:900,formatter:function(e){return l.formatTime(e)}},{name:"minute",seconds:60,formatter:function(l){return l.getMinutes()}},{name:"15 second",seconds:15,formatter:function(l){return l.getSeconds()+"s"}},{name:"second",seconds:1,formatter:function(l){return l.getSeconds()+"s"}}],this.unit=function(l){return this.units.filter(function(e){return l==e.name}).shift()},this.formatDate=function(l){return d3.time.format("%b %e")(l)},this.formatTime=function(l){return l.toString().match(/(\d+:\d+):/)[1]},this.ceil=function(l,e){var t,n;return"day"==e.name?(t=new Date(1e3*(l+e.seconds-1)),n=new Date(0),n.setMilliseconds(0),n.setSeconds(0),n.setMinutes(0),n.setHours(0),n.setDate(t.getDate()),n.setMonth(t.getMonth()),n.setFullYear(t.getFullYear()),n.getTime()/1e3):"month"==e.name?(t=new Date(1e3*(l+e.seconds-1)),n=new Date(0),n.setMilliseconds(0),n.setSeconds(0),n.setMinutes(0),n.setHours(0),n.setDate(1),n.setMonth(t.getMonth()),n.setFullYear(t.getFullYear()),n.getTime()/1e3):"year"==e.name?(t=new Date(1e3*(l+e.seconds-1)),n=new Date(0),n.setFullYear(t.getFullYear()),n.setMilliseconds(0),n.setSeconds(0),n.setMinutes(0),n.setHours(0),n.setDate(1),n.setMonth(0),n.getTime()/1e3):Math.ceil(l/e.seconds)*e.seconds}};