Rickshaw.namespace("Rickshaw.Fixtures.Time"),Rickshaw.Fixtures.Time=function(){60*(new Date).getTimezoneOffset();var l=this;this.months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],this.units=[{name:"decade",seconds:315576e3,formatter:function(l){return 10*parseInt(l.getUTCFullYear()/10,10)}},{name:"year",seconds:31557600,formatter:function(l){return l.getUTCFullYear()}},{name:"month",seconds:2635200,formatter:function(e){return l.months[e.getUTCMonth()]}},{name:"week",seconds:604800,formatter:function(e){return l.formatDate(e)}},{name:"day",seconds:86400,formatter:function(l){return l.getUTCDate()}},{name:"6 hour",seconds:21600,formatter:function(e){return l.formatTime(e)}},{name:"hour",seconds:3600,formatter:function(e){return l.formatTime(e)}},{name:"15 minute",seconds:900,formatter:function(e){return l.formatTime(e)}},{name:"minute",seconds:60,formatter:function(l){return l.getUTCMinutes()}},{name:"15 second",seconds:15,formatter:function(l){return l.getUTCSeconds()+"s"}},{name:"second",seconds:1,formatter:function(l){return l.getUTCSeconds()+"s"}}],this.unit=function(l){return this.units.filter(function(e){return l==e.name}).shift()},this.formatDate=function(l){return d3.time.format("%b %e")(l)},this.formatTime=function(l){return l.toUTCString().match(/(\d+:\d+):/)[1]},this.ceil=function(l,e){var t,n;return"month"==e.name?(t=new Date(1e3*(l+e.seconds-1)),n=new Date(0),n.setUTCFullYear(t.getUTCFullYear()),n.setUTCMonth(t.getUTCMonth()),n.setUTCDate(1),n.setUTCHours(0),n.setUTCMinutes(0),n.setUTCSeconds(0),n.setUTCMilliseconds(0),n.getTime()/1e3):"year"==e.name?(t=new Date(1e3*(l+e.seconds-1)),n=new Date(0),n.setUTCFullYear(t.getUTCFullYear()),n.setUTCMonth(0),n.setUTCDate(1),n.setUTCHours(0),n.setUTCMinutes(0),n.setUTCSeconds(0),n.setUTCMilliseconds(0),n.getTime()/1e3):Math.ceil(l/e.seconds)*e.seconds}};