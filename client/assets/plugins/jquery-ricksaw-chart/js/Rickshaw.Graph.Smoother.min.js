Rickshaw.namespace("Rickshaw.Graph.Smoother"),Rickshaw.Graph.Smoother=Rickshaw.Class.create({initialize:function(l){this.graph=l.graph,this.element=l.element,this.aggregationScale=1,this.build(),this.graph.stackData.hooks.data.push({name:"smoother",orderPosition:50,f:this.transformer.bind(this)})},build:function(){var l=this;this.element&&$(function(){$(l.element).slider({min:1,max:100,slide:function(e,t){l.setScale(t.value),l.graph.update()}})})},setScale:function(l){if(1>l)throw"scale out of range: "+l;this.aggregationScale=l,this.graph.update()},transformer:function(l){if(1==this.aggregationScale)return l;var e=[];return l.forEach(function(l){for(var t=[];l.length;){var n=0,i=0,a=l.splice(0,this.aggregationScale);a.forEach(function(l){n+=l.x/a.length,i+=l.y/a.length}),t.push({x:n,y:i})}e.push(t)}.bind(this)),e}});